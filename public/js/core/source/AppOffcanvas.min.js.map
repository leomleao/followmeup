{"version":3,"sources":["source/AppOffcanvas.js"],"names":["namespace","$","AppOffcanvas","o","this","document","ready","initialize","p","prototype","_timer","_useBackdrop","_enableEvents","window","on","e","_handleScreenSize","evalScrollbar","preventDefault","_handleOffcanvasOpen","currentTarget","_handleOffcanvasClose","each","btn","hasClass","id","attr","undefined","data","openOffcanvas","invalidate","closeOffcanvas","addClass","leftOffcanvas","closest","length","width","css","translate","-webkit-transform","-ms-transform","-o-transform","transform","removeClass","toggleButtonState","toggleBackdropState","_addBackdrop","_removeBackdrop","hide","appendTo","fadeIn","fadeOut","remove","toggleBodyScrolling","clearTimeout","scrollbarWidth","measureScrollbar","bodyPad","parseInt","setTimeout","isFunction","fn","nanoScroller","menu","menuScroller","parent","wrap","height","find","position","top","scroller","preventPageScrolling","scrollDiv","createElement","className","append","offsetWidth","clientWidth","removeChild","materialadmin","jQuery"],"mappings":"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","file":"source/AppOffcanvas.min.js","sourcesContent":["(function (namespace, $) {\r\n\t\"use strict\";\r\n\r\n\tvar AppOffcanvas = function () {\r\n\t\t// Create reference to this instance\r\n\t\tvar o = this;\r\n\t\t// Initialize app when document is ready\r\n\t\t$(document).ready(function () {\r\n\t\t\to.initialize();\r\n\t\t});\r\n\r\n\t};\r\n\tvar p = AppOffcanvas.prototype;\r\n\t// =========================================================================\r\n\t// MEMBERS\r\n\t// =========================================================================\r\n\r\n\tp._timer = null;\r\n\tp._useBackdrop = null;\r\n\r\n\t// =========================================================================\r\n\t// INIT\r\n\t// =========================================================================\r\n\r\n\tp.initialize = function () {\r\n\t\tthis._enableEvents();\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// EVENTS\r\n\t// =========================================================================\r\n\r\n\tp._enableEvents = function () {\r\n\t\tvar o = this;\r\n\r\n\t\t// Window events\r\n\t\t$(window).on('resize', function (e) {\r\n\t\t\to._handleScreenSize(e);\r\n\t\t});\r\n\r\n\t\t// Offcanvas events\r\n\t\t$('.offcanvas').on('refresh', function (e) {\r\n\t\t\to.evalScrollbar(e);\r\n\t\t});\r\n\t\t$('[data-toggle=\"offcanvas\"]').on('click', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\to._handleOffcanvasOpen($(e.currentTarget));\r\n\t\t});$('[data-dismiss=\"offcanvas\"]').on('click', function (e) {\r\n\t\t\to._handleOffcanvasClose();\r\n\t\t});\r\n\t\t$('#base').on('click', '> .backdrop', function (e) {\r\n\t\t\to._handleOffcanvasClose();\r\n\t\t});\r\n\r\n\t\t// Open active offcanvas buttons\r\n\t\t$('[data-toggle=\"offcanvas-left\"].active').each(function () {\r\n\t\t\to._handleOffcanvasOpen($(this));\r\n\t\t});\r\n\t\t$('[data-toggle=\"offcanvas-right\"].active').each(function () {\r\n\t\t\to._handleOffcanvasOpen($(this));\r\n\t\t});\r\n\t};\r\n\r\n\t// handlers\r\n\tp._handleScreenSize = function (e) {\r\n\t\tthis.evalScrollbar(e);\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// HANDLERS\r\n\t// =========================================================================\r\n\r\n\tp._handleOffcanvasOpen = function (btn) {\r\n\t\t// When the button is active, the off-canvas is already open and sould be closed\r\n\t\tif (btn.hasClass('active')) {\r\n\t\t\tthis._handleOffcanvasClose();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar id = btn.attr('href');\r\n\r\n\t\t// Set data variables\r\n\t\tthis._useBackdrop = (btn.data('backdrop') === undefined) ? true : btn.data('backdrop');\r\n\r\n\t\t// Open off-canvas\r\n\t\tthis.openOffcanvas(id);\r\n\t\tthis.invalidate();\r\n\t};\r\n\r\n\tp._handleOffcanvasClose = function (e) {\r\n\t\tthis.closeOffcanvas();\r\n\t\tthis.invalidate();\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// OPEN OFFCANVAS\r\n\t// =========================================================================\r\n\r\n\tp.openOffcanvas = function (id) {\r\n\t\t// First close all offcanvas panes\r\n\t\tthis.closeOffcanvas();\r\n\r\n\t\t// Activate selected offcanvas pane\r\n\t\t$(id).addClass('active');\r\n\r\n\t\t// Check if the offcanvas is on the left\r\n\t\tvar leftOffcanvas = ($(id).closest('.offcanvas:first').length > 0);\r\n\r\n\t\t// Remove offcanvas-expanded to enable body scrollbar\r\n\t\tif (this._useBackdrop)\r\n\t\t\t$('body').addClass('offcanvas-expanded');\r\n\r\n\t\t// Define the width\r\n\t\tvar width = $(id).width();\r\n\t\tif (width > $(document).width()) {\r\n\t\t\twidth = $(document).width() - 8;\r\n\t\t\t$(id + '.active').css({'width': width});\r\n\t\t}\r\n\t\twidth = (leftOffcanvas) ? width : '-' + width;\r\n\r\n\t\t// Translate position offcanvas pane\r\n\t\tvar translate = 'translate(' + width + 'px, 0)';\r\n\t\t$(id + '.active').css({\r\n\t\t\t'-webkit-transform': translate,\r\n\t\t\t'-ms-transform': translate,\r\n\t\t\t'-o-transform': translate,\r\n\t\t\t'transform': translate\r\n\t\t});\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// CLOSE OFFCANVAS\r\n\t// =========================================================================\r\n\r\n\tp.closeOffcanvas = function () {\r\n\t\t// Remove expanded on all offcanvas buttons\r\n\t\t$('[data-toggle=\"offcanvas\"]').removeClass('expanded');\r\n\r\n\t\t// Remove offcanvas active state\r\n\t\t$('.offcanvas-pane').removeClass('active');//.removeAttr('style');\r\n\t\t$('.offcanvas-pane').css({\r\n\t\t\t'-webkit-transform': '',\r\n\t\t\t'-ms-transform': '',\r\n\t\t\t'-o-transform': '',\r\n\t\t\t'transform': ''\r\n\t\t});\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// OFFCANVAS BUTTONS\r\n\t// =========================================================================\r\n\r\n\tp.toggleButtonState = function () {\r\n\t\t// Activate the active offcanvas pane\r\n\t\tvar id = $('.offcanvas-pane.active').attr('id');\r\n\t\t$('[data-toggle=\"offcanvas\"]').removeClass('active');\r\n\t\t$('[href=\"#' + id + '\"]').addClass('active');\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// BACKDROP\r\n\t// =========================================================================\r\n\r\n\tp.toggleBackdropState = function () {\r\n\t\t// Clear the timer that removes the keyword\r\n\t\tif ($('.offcanvas-pane.active').length > 0 && this._useBackdrop) {\r\n\t\t\tthis._addBackdrop();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._removeBackdrop();\r\n\t\t}\r\n\t};\r\n\r\n\tp._addBackdrop = function () {\r\n\t\tif ($('#base > .backdrop').length === 0 && $('#base').data('backdrop') !== 'hidden') {\r\n\t\t\t$('<div class=\"backdrop\"></div>').hide().appendTo('#base').fadeIn();\r\n\t\t}\r\n\t};\r\n\r\n\tp._removeBackdrop = function () {\r\n\t\t$('#base > .backdrop').fadeOut(function () {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// BODY SCROLLING\r\n\t// =========================================================================\r\n\r\n\tp.toggleBodyScrolling = function () {\r\n\t\tclearTimeout(this._timer);\r\n\t\tif ($('.offcanvas-pane.active').length > 0 && this._useBackdrop) {\r\n\t\t\t// Add body padding to prevent visual jumping\r\n\t\t\tvar scrollbarWidth = this.measureScrollbar();\r\n\t\t\tvar bodyPad = parseInt(($('body').css('padding-right') || 0), 10);\r\n\t\t\tif (scrollbarWidth !== bodyPad) {\r\n\t\t\t\t$('body').css('padding-right', bodyPad + scrollbarWidth);\r\n\t\t\t\t$('.headerbar').css('padding-right', bodyPad + scrollbarWidth);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._timer = setTimeout(function () {\r\n\t\t\t\t// Remove offcanvas-expanded to enable body scrollbar\r\n\t\t\t\t$('body').removeClass('offcanvas-expanded');\r\n\t\t\t\t$('body').css('padding-right', '');\r\n\t\t\t\t$('.headerbar').removeClass('offcanvas-expanded');\r\n\t\t\t\t$('.headerbar').css('padding-right', '');\r\n\t\t\t}, 330);\r\n\t\t}\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// INVALIDATE\r\n\t// =========================================================================\r\n\r\n\tp.invalidate = function () {\r\n\t\tthis.toggleButtonState();\r\n\t\tthis.toggleBackdropState();\r\n\t\tthis.toggleBodyScrolling();\r\n\t\tthis.evalScrollbar();\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// SCROLLBAR\r\n\t// =========================================================================\r\n\r\n\tp.evalScrollbar = function () {\r\n\t\tif (!$.isFunction($.fn.nanoScroller)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// Check if there is a menu\r\n\t\tvar menu = $('.offcanvas-pane.active');\r\n\t\tif (menu.length === 0)\r\n\t\t\treturn;\r\n\r\n\t\t// Get scrollbar elements\r\n\t\tvar menuScroller = $('.offcanvas-pane.active .offcanvas-body');\r\n\t\tvar parent = menuScroller.parent();\r\n\r\n\t\t// Add the scroller wrapper\r\n\t\tif (parent.hasClass('nano-content') === false) {\r\n\t\t\tmenuScroller.wrap('<div class=\"nano\"><div class=\"nano-content\"></div></div>');\r\n\t\t}\r\n\t\t\r\n\t\t// Set the correct height\r\n\t\tvar height = $(window).height() - menu.find('.nano').position().top;\r\n\t\tvar scroller = menuScroller.closest('.nano');\r\n\t\tscroller.css({height: height});\r\n\r\n\t\t// Add the nanoscroller\r\n\t\tscroller.nanoScroller({preventPageScrolling: true});\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// UTILS\r\n\t// =========================================================================\r\n\r\n\tp.measureScrollbar = function () {\r\n\t\tvar scrollDiv = document.createElement('div');\r\n\t\tscrollDiv.className = 'modal-scrollbar-measure';\r\n\t\t$('body').append(scrollDiv);\r\n\t\tvar scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n\t\t$('body')[0].removeChild(scrollDiv);\r\n\t\treturn scrollbarWidth;\r\n\t};\r\n\r\n\t// =========================================================================\r\n\t// DEFINE NAMESPACE\r\n\t// =========================================================================\r\n\r\n\twindow.materialadmin.AppOffcanvas = new AppOffcanvas;\r\n}(this.materialadmin, jQuery)); // pass in (namespace, jQuery):\r\n"],"sourceRoot":"/source/"}